# Workout Companion LLM - 跑步伴侣

一个基于 SwiftUI 开发的 iOS 健身追踪应用，专为跑步和骑行爱好者设计，提供实时GPS追踪、数据分析和运动目标管理功能。

## 🏃‍♂️ 功能特性

### 核心功能
- **实时GPS追踪**: 使用CoreLocation框架实现精准定位
- **多运动模式**: 支持跑步和骑行两种运动类型
- **轨迹可视化**: 集成MapKit显示实时运动轨迹
- **数据统计**: 距离、时间、配速、卡路里等关键指标
- **海拔分析**: 累计爬升和下降数据统计

### 用户界面
- **现代化设计**: 采用SwiftUI构建的响应式界面
- **标签式导航**: 简洁的TabView布局，包含首页、运动、记录、设置
- **底部抽屉**: 可交互的底部面板显示详细运动数据
- **中文本地化**: 完整的中文界面支持

### 技术特色
- **坐标转换**: 内置WGS84到GCJ02坐标系转换算法
- **精度控制**: 过滤低精度GPS数据，提高轨迹质量
- **实时更新**: 每秒更新运动数据和UI显示
- **自适应布局**: 适配不同屏幕尺寸和设备方向

## 🛠️ 技术架构

### 开发环境
- **语言**: Swift 5.5+
- **框架**: SwiftUI + Combine
- **最低支持**: iOS 15.0+
- **Xcode**: 13.0+

### 核心框架
- **SwiftUI**: 声明式UI构建
- **CoreLocation**: GPS定位和追踪
- **MapKit**: 地图显示和轨迹绘制
- **Combine**: 响应式数据流处理

### 项目结构
```
WorkoutCompanionLLM/
├── WorkoutCompanionLLMApp.swift      # 应用入口
├── ContentView.swift                 # 主标签页容器
├── HomeView.swift                    # 首页介绍
├── WorkoutGoalView.swift             # 运动目标设置
├── Running.swift                     # 运动追踪主界面
├── LocationTracker.swift             # 位置管理器
├── Assets.xcassets/                  # 资源文件
└── Info.plist                       # 应用配置
```

## 📱 功能详解

### 首页 (HomeView)
展示应用核心功能介绍，包括：
- 实时轨迹追踪
- 运动数据分析
- 成就系统

### 运动设置 (WorkoutGoalView)
运动前配置界面：
- 运动类型选择（跑步/骑行）
- 目标距离设置（公里）
- 目标时长设置（分钟）
- 目标卡路里设置

### 实时追踪 (RunTrackingView)
运动中的主界面：
- **地图显示**: 实时轨迹绘制
- **基础数据**: 距离、时间、配速
- **详细数据**: 累计爬升、下降、平均速度
- **交互控制**: 上拉展开详情，下拉收起

### 位置管理 (LocationTracker)
GPS定位核心模块：
- 权限管理
- 高精度定位
- 坐标系转换
- 轨迹优化

## 🚀 快速开始

### 环境要求
- macOS 12.0+
- Xcode 13.0+
- iOS 15.0+ 真机或模拟器

### 安装运行
1. 克隆项目到本地
2. 在Xcode中打开 `WorkoutCompanionLLM.xcodeproj`
3. 选择目标设备（真机或模拟器）
4. 点击运行按钮 (⌘R)

### 权限配置
应用需要以下权限：
- **位置权限**: `NSLocationWhenInUseUsageDescription`
- **后台定位**: `NSLocationAlwaysAndWhenInUseUsageDescription`

## 📊 数据处理

### GPS轨迹优化
- 精度过滤：只保留水平精度≤15米的数据点
- 距离计算：最小距离阈值1米，避免静止时的漂移
- 坐标转换：中国境内自动进行WGS84到GCJ02转换

### 数据指标
- **距离**: 基于GPS坐标的累计距离
- **配速**: 跑步模式下的分钟/公里配速
- **速度**: 骑行模式下的公里/小时速度
- **海拔**: 基于GPS海拔数据的累计变化

## 🎯 开发计划

### 即将推出
- [ ] 历史记录存储和查看
- [ ] 数据导出功能（GPX格式）
- [ ] 社交分享功能
- [ ] 运动目标提醒
- [ ] 暗色模式支持

### 技术优化
- [ ] 后台运行优化
- [ ] 电池使用优化
- [ ] 离线地图支持
- [ ] Apple Watch配套应用

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

### 开发规范
- 遵循Swift API设计准则
- 使用SwiftUI最佳实践
- 保持代码注释清晰
- 添加适当的错误处理

## 📄 许可证

本项目采用MIT许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 📞 联系支持

如有问题或建议，请通过以下方式联系：
- 提交GitHub Issue
- 发送邮件至开发者

---

**Made with ❤️ for fitness enthusiasts**